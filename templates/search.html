{% extends "layouts.html" %}
{% import "bootstrap/wtf.html" as wtf %}

{% block title %}
Search Here!
{% endblock %}




{% block content %}

<br>
<div class="container">
    <div class="jumbotron">
        <h1>Query for missiles</h1>
    </div>
    <div class="col-md-12">
        <form method="POST" action="/search">
            <d1>
                {{ form.csrf_token }}
                {{ wtf.form_field(form.query) }}
            <input class="btn btn-primary" type="submit" value="Search">
            </d1>
        </form>
   </div>
</div>
<!-- Since its a list of tuples, we access via index of tuple then index of element in tuple-->
<!--
<h1>Rocket No.: {{ result[0][0] }}</h1>
<p>Launch Date: {{ result[0][1] }}</p>
<p>Destination: {{ result[0][2] }}</p>
<p>Extra Comments: {{ result[0][3] }}</p>
<p>Active: {{ result[0][4] }}</p>
-->

{% for missile in result %}
    {% if missile %}
    <div class="col d-flex justify-content-center">
    <div class="card" style="width: 18rem;">
        <div class="card-body">
            <img class="card-img-top" src="{{ url_for('static', filename='targets/' + missile[2] + '.png') }}" alt="{{ missile[2] }}">
            <div class="card-body">
                <h5 class="card-title">Missile No.: {{ missile[0] }} </h5>
                <p class="card-text">Launch Date: {{ missile[1] }}</p>
                <p class="card-text">Destination: {{ missile[2] }}</p>
                <p class="card-text">Extra Comments: {{ missile[3] }}</p>
                <p class="card-text">Active: {{ missile[4] }}</p>
            </div>
        </div>
    </div>
    </div>
    {% endif %}
{% endfor %}



{%- endblock %}

